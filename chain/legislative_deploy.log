No files changed, compilation skipped
Traces:
  [9679679] → new DeployLegislativeBranch@0x5b73C5498c1E3b4dbA84de0F1833c4a029d90519
    └─ ← [Return] 48220 bytes of code

  [54333] DeployLegislativeBranch::setUp()
    ├─ [0] VM::envOr("ADMIN_ADDRESS", 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266) [staticcall]
    │   └─ ← [Return] <env var value>
    ├─ [0] VM::envOr("TEMPLE_ADDRESS", SHA-256: [0x0000000000000000000000000000000000000002]) [staticcall]
    │   └─ ← [Return] <env var value>
    ├─ [0] console::log("=================================================") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("LEGISLATIVE BRANCH DEPLOYMENT") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("=================================================") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("Admin:", 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("Temple of Heaven:", SHA-256: [0x0000000000000000000000000000000000000002]) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    └─ ← [Stop]

  [8084367] DeployLegislativeBranch::run()
    ├─ [0] VM::startBroadcast()
    │   └─ ← [Return]
    ├─ [0] console::log("1. Deploying StatisticsBureau...") [staticcall]
    │   └─ ← [Stop]
    ├─ [1372357] → new StatisticsBureau@0x4ed7c70F96B99c776995fB64377f0d4aB3B0e1C1
    │   ├─ emit RoleGranted(role: 0x0000000000000000000000000000000000000000000000000000000000000000, account: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266, sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   ├─ emit RoleGranted(role: 0xca511d4a01c0530d2234646a7c898e8cca51689ab5a6f477c84d0ec2383f8149, account: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266, sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   ├─ emit RoleGranted(role: 0x8328f59ce34a4393af00ac54c8f85a1f7bdcb7ea00bf230ba2f37f54fb3f0301, account: SHA-256: [0x0000000000000000000000000000000000000002], sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   └─ ← [Return] 6376 bytes of code
    ├─ [0] console::log("   StatisticsBureau deployed at:", StatisticsBureau: [0x4ed7c70F96B99c776995fB64377f0d4aB3B0e1C1]) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("2. Deploying VotingCenter...") [staticcall]
    │   └─ ← [Stop]
    ├─ [1680485] → new VotingCenter@0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44
    │   ├─ emit RoleGranted(role: 0x0000000000000000000000000000000000000000000000000000000000000000, account: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266, sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   ├─ emit RoleGranted(role: 0xca511d4a01c0530d2234646a7c898e8cca51689ab5a6f477c84d0ec2383f8149, account: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266, sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   └─ ← [Return] 8037 bytes of code
    ├─ [0] console::log("   VotingCenter deployed at:", VotingCenter: [0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44]) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("3. Granting VOTING_CENTER_ROLE...") [staticcall]
    │   └─ ← [Stop]
    ├─ [637] StatisticsBureau::VOTING_CENTER_ROLE() [staticcall]
    │   └─ ← [Return] 0xfcf48d232c5f19716cc229e9ebecd484bc4eff8ca2a9021d58f12722ca2f4640
    ├─ [27255] StatisticsBureau::grantRole(0xfcf48d232c5f19716cc229e9ebecd484bc4eff8ca2a9021d58f12722ca2f4640, VotingCenter: [0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44])
    │   ├─ emit RoleGranted(role: 0xfcf48d232c5f19716cc229e9ebecd484bc4eff8ca2a9021d58f12722ca2f4640, account: VotingCenter: [0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44], sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   └─ ← [Stop]
    ├─ [0] console::log("   Role granted") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("4. Deploying ArbanKhural #1...") [staticcall]
    │   └─ ← [Stop]
    ├─ [1078489] → new ArbanKhural@0x4A679253410272dd5232B3Ff7cF5dbB88f295319
    │   ├─ emit RoleGranted(role: 0x0000000000000000000000000000000000000000000000000000000000000000, account: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266, sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   └─ ← [Return] 4928 bytes of code
    ├─ [0] console::log("   ArbanKhural #1 deployed at:", ArbanKhural: [0x4A679253410272dd5232B3Ff7cF5dbB88f295319]) [staticcall]
    │   └─ ← [Stop]
    ├─ [443] VotingCenter::DEFAULT_ADMIN_ROLE() [staticcall]
    │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    ├─ [27260] VotingCenter::grantRole(0x0000000000000000000000000000000000000000000000000000000000000000, ArbanKhural: [0x4A679253410272dd5232B3Ff7cF5dbB88f295319])
    │   ├─ emit RoleGranted(role: 0x0000000000000000000000000000000000000000000000000000000000000000, account: ArbanKhural: [0x4A679253410272dd5232B3Ff7cF5dbB88f295319], sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   └─ ← [Stop]
    ├─ [0] console::log("   Admin role granted to Arban") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("5. Deploying ZunKhural #1...") [staticcall]
    │   └─ ← [Stop]
    ├─ [1072489] → new ZunKhural@0x09635F643e140090A9A8Dcd712eD6285858ceBef
    │   ├─ emit RoleGranted(role: 0x0000000000000000000000000000000000000000000000000000000000000000, account: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266, sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   └─ ← [Return] 4898 bytes of code
    ├─ [0] console::log("   ZunKhural #1 deployed at:", ZunKhural: [0x09635F643e140090A9A8Dcd712eD6285858ceBef]) [staticcall]
    │   └─ ← [Stop]
    ├─ [443] VotingCenter::DEFAULT_ADMIN_ROLE() [staticcall]
    │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    ├─ [25260] VotingCenter::grantRole(0x0000000000000000000000000000000000000000000000000000000000000000, ZunKhural: [0x09635F643e140090A9A8Dcd712eD6285858ceBef])
    │   ├─ emit RoleGranted(role: 0x0000000000000000000000000000000000000000000000000000000000000000, account: ZunKhural: [0x09635F643e140090A9A8Dcd712eD6285858ceBef], sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   └─ ← [Stop]
    ├─ [0] console::log("   Admin role granted to Zun") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("6. Deploying MyangangKhural #1...") [staticcall]
    │   └─ ← [Stop]
    ├─ [1070683] → new MyangangKhural@0x67d269191c92Caf3cD7723F116c85e6E9bf55933
    │   ├─ emit RoleGranted(role: 0x0000000000000000000000000000000000000000000000000000000000000000, account: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266, sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   └─ ← [Return] 4889 bytes of code
    ├─ [0] console::log("   MyangangKhural #1 deployed at:", MyangangKhural: [0x67d269191c92Caf3cD7723F116c85e6E9bf55933]) [staticcall]
    │   └─ ← [Stop]
    ├─ [443] VotingCenter::DEFAULT_ADMIN_ROLE() [staticcall]
    │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    ├─ [25260] VotingCenter::grantRole(0x0000000000000000000000000000000000000000000000000000000000000000, MyangangKhural: [0x67d269191c92Caf3cD7723F116c85e6E9bf55933])
    │   ├─ emit RoleGranted(role: 0x0000000000000000000000000000000000000000000000000000000000000000, account: MyangangKhural: [0x67d269191c92Caf3cD7723F116c85e6E9bf55933], sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   └─ ← [Stop]
    ├─ [0] console::log("   Admin role granted to Myangan") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("7. Deploying TumenKhural #1 (National)...") [staticcall]
    │   └─ ← [Stop]
    ├─ [1117736] → new TumenKhural@0xc3e53F4d16Ae77Db1c982e75a937B9f60FE63690
    │   ├─ emit RoleGranted(role: 0x0000000000000000000000000000000000000000000000000000000000000000, account: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266, sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   └─ ← [Return] 5124 bytes of code
    ├─ [0] console::log("   TumenKhural #1 deployed at:", TumenKhural: [0xc3e53F4d16Ae77Db1c982e75a937B9f60FE63690]) [staticcall]
    │   └─ ← [Stop]
    ├─ [443] VotingCenter::DEFAULT_ADMIN_ROLE() [staticcall]
    │   └─ ← [Return] 0x0000000000000000000000000000000000000000000000000000000000000000
    ├─ [25260] VotingCenter::grantRole(0x0000000000000000000000000000000000000000000000000000000000000000, TumenKhural: [0xc3e53F4d16Ae77Db1c982e75a937B9f60FE63690])
    │   ├─ emit RoleGranted(role: 0x0000000000000000000000000000000000000000000000000000000000000000, account: TumenKhural: [0xc3e53F4d16Ae77Db1c982e75a937B9f60FE63690], sender: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266)
    │   └─ ← [Stop]
    ├─ [0] console::log("   Admin role granted to Tumen") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("8. Initializing census data...") [staticcall]
    │   └─ ← [Stop]
    ├─ [182167] StatisticsBureau::updateCensus(10000 [1e4], 5000, 500, 50, 5, 1)
    │   ├─ emit CensusUpdated(totalCitizens: 10000 [1e4], totalFamilies: 5000, totalArbans: 500, timestamp: 1769834433 [1.769e9])
    │   └─ ← [Stop]
    ├─ [0] console::log("   Census initialized") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] VM::stopBroadcast()
    │   └─ ← [Return]
    ├─ [0] console::log("=================================================") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("DEPLOYMENT SUMMARY") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("=================================================") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("Core Contracts:") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("  StatisticsBureau:  ", StatisticsBureau: [0x4ed7c70F96B99c776995fB64377f0d4aB3B0e1C1]) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("  VotingCenter:      ", VotingCenter: [0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44]) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("Sample Hierarchy:") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("  ArbanKhural #1:    ", ArbanKhural: [0x4A679253410272dd5232B3Ff7cF5dbB88f295319]) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("  ZunKhural #1:      ", ZunKhural: [0x09635F643e140090A9A8Dcd712eD6285858ceBef]) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("  MyangangKhural #1: ", MyangangKhural: [0x67d269191c92Caf3cD7723F116c85e6E9bf55933]) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("  TumenKhural #1:    ", TumenKhural: [0xc3e53F4d16Ae77Db1c982e75a937B9f60FE63690]) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("Configuration:") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("  Admin:             ", 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("  Temple of Heaven:  ", SHA-256: [0x0000000000000000000000000000000000000002]) [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("=================================================") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("DEPLOYMENT COMPLETE") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("=================================================") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("Next steps:") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("1. Update .env with contract addresses") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("2. Add representatives to Arban (max 10)") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("3. Add delegates to Zun/Myangan/Tumen") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("4. Create first proposal") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] console::log("") [staticcall]
    │   └─ ← [Stop]
    ├─ [0] VM::toString(StatisticsBureau: [0x4ed7c70F96B99c776995fB64377f0d4aB3B0e1C1]) [staticcall]
    │   └─ ← [Return] "0x4ed7c70F96B99c776995fB64377f0d4aB3B0e1C1"
    ├─ [0] VM::toString(VotingCenter: [0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44]) [staticcall]
    │   └─ ← [Return] "0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44"
    ├─ [0] VM::toString(ArbanKhural: [0x4A679253410272dd5232B3Ff7cF5dbB88f295319]) [staticcall]
    │   └─ ← [Return] "0x4A679253410272dd5232B3Ff7cF5dbB88f295319"
    ├─ [0] VM::toString(ZunKhural: [0x09635F643e140090A9A8Dcd712eD6285858ceBef]) [staticcall]
    │   └─ ← [Return] "0x09635F643e140090A9A8Dcd712eD6285858ceBef"
    ├─ [0] VM::toString(MyangangKhural: [0x67d269191c92Caf3cD7723F116c85e6E9bf55933]) [staticcall]
    │   └─ ← [Return] "0x67d269191c92Caf3cD7723F116c85e6E9bf55933"
    ├─ [0] VM::toString(TumenKhural: [0xc3e53F4d16Ae77Db1c982e75a937B9f60FE63690]) [staticcall]
    │   └─ ← [Return] "0xc3e53F4d16Ae77Db1c982e75a937B9f60FE63690"
    ├─ [0] VM::toString(0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266) [staticcall]
    │   └─ ← [Return] "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"
    ├─ [0] VM::toString(SHA-256: [0x0000000000000000000000000000000000000002]) [staticcall]
    │   └─ ← [Return] "0x0000000000000000000000000000000000000002"
    ├─ [0] VM::writeFile("legislative_deployment.env", "# Legislative Branch Deployment\n\n## Core Contracts\nSTATISTICS_BUREAU_ADDRESS=0x4ed7c70F96B99c776995fB64377f0d4aB3B0e1C1\nVOTING_CENTER_ADDRESS=0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44\n\n## Sample Hierarchy\nARBAN_1_ADDRESS=0x4A679253410272dd5232B3Ff7cF5dbB88f295319\nZUN_1_ADDRESS=0x09635F643e140090A9A8Dcd712eD6285858ceBef\nMYANGAN_1_ADDRESS=0x67d269191c92Caf3cD7723F116c85e6E9bf55933\nTUMEN_1_ADDRESS=0xc3e53F4d16Ae77Db1c982e75a937B9f60FE63690\n\n## Configuration\nADMIN_ADDRESS=0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266\nTEMPLE_ADDRESS=0x0000000000000000000000000000000000000002\n")
    │   └─ ← [Revert] vm.writeFile: the path legislative_deployment.env is not allowed to be accessed for write operations
    └─ ← [Revert] vm.writeFile: the path legislative_deployment.env is not allowed to be accessed for write operations



== Logs ==
  =================================================
  LEGISLATIVE BRANCH DEPLOYMENT
  =================================================
  Admin: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
  Temple of Heaven: 0x0000000000000000000000000000000000000002
  
  1. Deploying StatisticsBureau...
     StatisticsBureau deployed at: 0x4ed7c70F96B99c776995fB64377f0d4aB3B0e1C1
  
  2. Deploying VotingCenter...
     VotingCenter deployed at: 0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44
  
  3. Granting VOTING_CENTER_ROLE...
     Role granted
  
  4. Deploying ArbanKhural #1...
     ArbanKhural #1 deployed at: 0x4A679253410272dd5232B3Ff7cF5dbB88f295319
     Admin role granted to Arban
  
  5. Deploying ZunKhural #1...
     ZunKhural #1 deployed at: 0x09635F643e140090A9A8Dcd712eD6285858ceBef
     Admin role granted to Zun
  
  6. Deploying MyangangKhural #1...
     MyangangKhural #1 deployed at: 0x67d269191c92Caf3cD7723F116c85e6E9bf55933
     Admin role granted to Myangan
  
  7. Deploying TumenKhural #1 (National)...
     TumenKhural #1 deployed at: 0xc3e53F4d16Ae77Db1c982e75a937B9f60FE63690
     Admin role granted to Tumen
  
  8. Initializing census data...
     Census initialized
  
  =================================================
  DEPLOYMENT SUMMARY
  =================================================
  
  Core Contracts:
    StatisticsBureau:   0x4ed7c70F96B99c776995fB64377f0d4aB3B0e1C1
    VotingCenter:       0x322813Fd9A801c5507c9de605d63CEA4f2CE6c44
  
  Sample Hierarchy:
    ArbanKhural #1:     0x4A679253410272dd5232B3Ff7cF5dbB88f295319
    ZunKhural #1:       0x09635F643e140090A9A8Dcd712eD6285858ceBef
    MyangangKhural #1:  0x67d269191c92Caf3cD7723F116c85e6E9bf55933
    TumenKhural #1:     0xc3e53F4d16Ae77Db1c982e75a937B9f60FE63690
  
  Configuration:
    Admin:              0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
    Temple of Heaven:   0x0000000000000000000000000000000000000002
  
  =================================================
  DEPLOYMENT COMPLETE
  =================================================
  
  Next steps:
  1. Update .env with contract addresses
  2. Add representatives to Arban (max 10)
  3. Add delegates to Zun/Myangan/Tumen
  4. Create first proposal
  
Error: script failed: vm.writeFile: the path legislative_deployment.env is not allowed to be accessed for write operations
