{
  "_format": "hh-sol-artifact-1",
  "contractName": "ConstitutionRegistry",
  "sourceName": "contracts/ConstitutionRegistry.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_khural",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AlreadyExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ArticleNotFound",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidInput",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotAuthorized",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "VersionNotFound",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "title",
          "type": "string"
        }
      ],
      "name": "ArticleCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        }
      ],
      "name": "ArticleRepealed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "version",
          "type": "uint256"
        }
      ],
      "name": "VersionActivated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "version",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "contentHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "uri",
          "type": "string"
        }
      ],
      "name": "VersionAdded",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "version",
          "type": "uint256"
        }
      ],
      "name": "activateVersion",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "contentHash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "uri",
          "type": "string"
        }
      ],
      "name": "addVersion",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "articleCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "articles",
      "outputs": [
        {
          "internalType": "string",
          "name": "title",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "exists",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "repealed",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "latestVersion",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "activeVersion",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "title",
          "type": "string"
        }
      ],
      "name": "createArticle",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        }
      ],
      "name": "getActiveVersion",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "contentHash",
              "type": "bytes32"
            },
            {
              "internalType": "string",
              "name": "uri",
              "type": "string"
            },
            {
              "internalType": "uint64",
              "name": "timestamp",
              "type": "uint64"
            },
            {
              "internalType": "bool",
              "name": "exists",
              "type": "bool"
            }
          ],
          "internalType": "struct ConstitutionRegistry.Version",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "version",
          "type": "uint256"
        }
      ],
      "name": "getVersion",
      "outputs": [
        {
          "components": [
            {
              "internalType": "bytes32",
              "name": "contentHash",
              "type": "bytes32"
            },
            {
              "internalType": "string",
              "name": "uri",
              "type": "string"
            },
            {
              "internalType": "uint64",
              "name": "timestamp",
              "type": "uint64"
            },
            {
              "internalType": "bool",
              "name": "exists",
              "type": "bool"
            }
          ],
          "internalType": "struct ConstitutionRegistry.Version",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "khural",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "articleId",
          "type": "uint256"
        }
      ],
      "name": "repealArticle",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "versions",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "contentHash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "uri",
          "type": "string"
        },
        {
          "internalType": "uint64",
          "name": "timestamp",
          "type": "uint64"
        },
        {
          "internalType": "bool",
          "name": "exists",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60a03461009e57601f610e6f38819003918201601f19168301916001600160401b038311848410176100a35780849260209460405283398101031261009e57516001600160a01b03811680820361009e571561008c57608052604051610db590816100ba823960805181818161014101528181610461015281816104a20152818161068d0152610a280152f35b60405163b4fa3fb360e01b8152600490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe6080806040526004908136101561001557600080fd5b60003560e01c908163414e28b014610ab6575080635f6268b914610a115780636987b075146109785780636ecec5ea1461065a5780638eb4d2a51461057b578063a3a7bf4114610490578063c6a6267e1461044b578063c97fddbd146103d2578063dc3e7bc61461010b5763edcfafe61461008f57600080fd5b34610106576020366003190112610106573560005260016020526100e260406000206100ba81610c28565b90600181015490600360028201549101549060ff60405195869560a0875260a0870190610ae7565b938181161515602087015260081c1615156040850152606084015260808301520390f35b600080fd5b50346101065760203660031901126101065767ffffffffffffffff9080358281116101065761013d9036908301610b6c565b91907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633036103c25782156103b257610180600054610cf2565b928360005560405160a081018181108782111761039d576040526101a5368385610d17565b815260208101956001968781526040830160008152606084019260008452608085019760008952896000528a6020526040600020955190815192831161038857506101f08654610b9a565b601f8111610341575b5099899796959493929160209b8c90601f83116001146102b15791807f530582bd95b2f2e66cb9252f12b2af00a90fe6cec893b899a0e088ebebadbaf69b9c96949260039896946000926102a6575b505060001982891b1c191690821b1787555b8601915115159060ff61ff0084549251151560081b1692169061ffff1916171790555160028401555191015561029b60405192839288845288840191610d5e565b0390a2604051908152f35b015190503880610248565b90876000528d6000209160005b601f198516811061032957509284927f530582bd95b2f2e66cb9252f12b2af00a90fe6cec893b899a0e088ebebadbaf69c9d979592600399979583601f19811610610311575b505050811b01875561025a565b0151600019838b1b60f8161c19169055388080610304565b8282015184558e9c5092850192918f01918f016102be565b866000526020600020601f840160051c8101916020851061037e575b601f0160051c01905b81811061037357506101f9565b600081558c01610366565b909150819061035d565b604190634e487b7160e01b6000525260246000fd5b604185634e487b7160e01b6000525260246000fd5b5060405163b4fa3fb360e01b8152fd5b5060405163ea8e4eb560e01b8152fd5b34610106576103e036610ad1565b90600052600260205260406000209060005260205260406000208054600261040a60018401610c28565b92015460ff61042b6040519485948552608060208601526080850190610ae7565b9167ffffffffffffffff8116604085015260401c16151560608301520390f35b34610106576000366003190112610106576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b50346101065761049f36610ad1565b917f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316330361056c5781600052600160205260ff600160406000200154161561055d5781600052600260205260406000208360005260205260ff60026040600020015460401c161561054e5750806000526001602052816003604060002001557fd3403b7bf5c19bfeb1bc336573d9a719003d4d8fa360bfd7542288ddb193778f600080a3005b60405163392d164960e01b8152fd5b60405163522e582d60e11b8152fd5b60405163ea8e4eb560e01b8152fd5b503461010657602080600319360112610106578135610598610ccd565b50806000526001825260ff600160406000200154161561064957806000526001825260036040600020015490811561063857610634935060005260028252604060002090600052815260ff60026040600020604051936105f785610bd4565b8154855261060760018301610c28565b90850152015467ffffffffffffffff8116604084015260401c161515606082015260405191829182610b27565b0390f35b60405163392d164960e01b81528490fd5b60405163522e582d60e11b81528390fd5b50346101065760603660031901126101065760443567ffffffffffffffff81116101065761068b9036908301610b6c565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03163303610967578235600052600160205260ff600160406000200154161561064957602435156109565782356000526001602052604060002060ff600182015460081c16610945576002019161070a8354610cf2565b8093556040519361071a85610bd4565b602435855261072a368484610d17565b946020810195865267ffffffffffffffff421660408201526001606082015281356000526002602052604060002085600052602052604060002095815187555195865167ffffffffffffffff8111610930576107896001830154610b9a565b601f81116108e9575b506020601f8211600114610854579080600293927f07614e033e0a70818b0c5cc24675bf0b66f2701746c676e12447fdb5c16bfef498999a600092610849575b50508160011b916000199060031b1c19161760018201555b019067ffffffffffffffff60408201511668ff000000000000000060608454930151151560401b169168ffffffffffffffffff19161717905561084460405192839260243584526040602085015235956040840191610d5e565b0390a3005b0151905038806107d2565b6001830160005260206000209860005b601f19841681106108d15750917f07614e033e0a70818b0c5cc24675bf0b66f2701746c676e12447fdb5c16bfef49798996001926002959483601f198116106108b8575b505050811b0160018201556107ea565b015160001960f88460031b161c191690553880806108a8565b828201518b556001909a019960209283019201610864565b600183016000526020600020601f830160051c810160208410610929575b601f830160051c8201811061091d575050610792565b60008155600101610907565b5080610907565b604184634e487b7160e01b6000525260246000fd5b60405163b4fa3fb360e01b81528490fd5b60405163b4fa3fb360e01b81528390fd5b60405163ea8e4eb560e01b81528390fd5b50346101065761098736610ad1565b61098f610ccd565b50816000526020916001835260ff6001604060002001541615610a00578060005260028352604060002082600052835260ff60026040600020015460401c161561063857610634935060005260028252604060002090600052815260ff60026040600020604051936105f785610bd4565b60405163522e582d60e11b81528490fd5b5034610106576020366003190112610106578035907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316330361056c5781600052600160205260ff600160406000200154161561055d5750806000526001602052600160406000200161010061ff00198254161790557f657797cefac76dad253a58e9e5f0c0018c74c8bb80b316bdd2e518849881abad600080a2005b34610106576000366003190112610106576020906000548152f35b6040906003190112610106576004359060243590565b919082519283825260005b848110610b13575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610af2565b602081528151602082015260806060610b4e602085015183604086015260a0850190610ae7565b9367ffffffffffffffff604082015116828501520151151591015290565b9181601f840112156101065782359167ffffffffffffffff8311610106576020838186019501011161010657565b90600182811c92168015610bca575b6020831014610bb457565b634e487b7160e01b600052602260045260246000fd5b91607f1691610ba9565b6080810190811067ffffffffffffffff821117610bf057604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff821117610bf057604052565b90604051918260008254610c3b81610b9a565b90818452602094600191600181169081600014610cab5750600114610c6c575b505050610c6a92500383610c06565b565b600090815285812095935091905b818310610c93575050610c6a9350820101388080610c5b565b85548884018501529485019487945091830191610c7a565b92505050610c6a94925060ff191682840152151560051b820101388080610c5b565b60405190610cda82610bd4565b60006060838281528160208201528260408201520152565b6000198114610d015760010190565b634e487b7160e01b600052601160045260246000fd5b92919267ffffffffffffffff8211610bf05760405191610d41601f8201601f191660200184610c06565b829481845281830111610106578281602093846000960137010152565b908060209392818452848401376000828201840152601f01601f191601019056fea26469706673582212204db6ae7e0a90338a6035f2d4d4ade3f5b53d2911e42bfdb28227ad4a3c844c4a64736f6c63430008180033",
  "deployedBytecode": "0x6080806040526004908136101561001557600080fd5b60003560e01c908163414e28b014610ab6575080635f6268b914610a115780636987b075146109785780636ecec5ea1461065a5780638eb4d2a51461057b578063a3a7bf4114610490578063c6a6267e1461044b578063c97fddbd146103d2578063dc3e7bc61461010b5763edcfafe61461008f57600080fd5b34610106576020366003190112610106573560005260016020526100e260406000206100ba81610c28565b90600181015490600360028201549101549060ff60405195869560a0875260a0870190610ae7565b938181161515602087015260081c1615156040850152606084015260808301520390f35b600080fd5b50346101065760203660031901126101065767ffffffffffffffff9080358281116101065761013d9036908301610b6c565b91907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633036103c25782156103b257610180600054610cf2565b928360005560405160a081018181108782111761039d576040526101a5368385610d17565b815260208101956001968781526040830160008152606084019260008452608085019760008952896000528a6020526040600020955190815192831161038857506101f08654610b9a565b601f8111610341575b5099899796959493929160209b8c90601f83116001146102b15791807f530582bd95b2f2e66cb9252f12b2af00a90fe6cec893b899a0e088ebebadbaf69b9c96949260039896946000926102a6575b505060001982891b1c191690821b1787555b8601915115159060ff61ff0084549251151560081b1692169061ffff1916171790555160028401555191015561029b60405192839288845288840191610d5e565b0390a2604051908152f35b015190503880610248565b90876000528d6000209160005b601f198516811061032957509284927f530582bd95b2f2e66cb9252f12b2af00a90fe6cec893b899a0e088ebebadbaf69c9d979592600399979583601f19811610610311575b505050811b01875561025a565b0151600019838b1b60f8161c19169055388080610304565b8282015184558e9c5092850192918f01918f016102be565b866000526020600020601f840160051c8101916020851061037e575b601f0160051c01905b81811061037357506101f9565b600081558c01610366565b909150819061035d565b604190634e487b7160e01b6000525260246000fd5b604185634e487b7160e01b6000525260246000fd5b5060405163b4fa3fb360e01b8152fd5b5060405163ea8e4eb560e01b8152fd5b34610106576103e036610ad1565b90600052600260205260406000209060005260205260406000208054600261040a60018401610c28565b92015460ff61042b6040519485948552608060208601526080850190610ae7565b9167ffffffffffffffff8116604085015260401c16151560608301520390f35b34610106576000366003190112610106576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b50346101065761049f36610ad1565b917f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316330361056c5781600052600160205260ff600160406000200154161561055d5781600052600260205260406000208360005260205260ff60026040600020015460401c161561054e5750806000526001602052816003604060002001557fd3403b7bf5c19bfeb1bc336573d9a719003d4d8fa360bfd7542288ddb193778f600080a3005b60405163392d164960e01b8152fd5b60405163522e582d60e11b8152fd5b60405163ea8e4eb560e01b8152fd5b503461010657602080600319360112610106578135610598610ccd565b50806000526001825260ff600160406000200154161561064957806000526001825260036040600020015490811561063857610634935060005260028252604060002090600052815260ff60026040600020604051936105f785610bd4565b8154855261060760018301610c28565b90850152015467ffffffffffffffff8116604084015260401c161515606082015260405191829182610b27565b0390f35b60405163392d164960e01b81528490fd5b60405163522e582d60e11b81528390fd5b50346101065760603660031901126101065760443567ffffffffffffffff81116101065761068b9036908301610b6c565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03163303610967578235600052600160205260ff600160406000200154161561064957602435156109565782356000526001602052604060002060ff600182015460081c16610945576002019161070a8354610cf2565b8093556040519361071a85610bd4565b602435855261072a368484610d17565b946020810195865267ffffffffffffffff421660408201526001606082015281356000526002602052604060002085600052602052604060002095815187555195865167ffffffffffffffff8111610930576107896001830154610b9a565b601f81116108e9575b506020601f8211600114610854579080600293927f07614e033e0a70818b0c5cc24675bf0b66f2701746c676e12447fdb5c16bfef498999a600092610849575b50508160011b916000199060031b1c19161760018201555b019067ffffffffffffffff60408201511668ff000000000000000060608454930151151560401b169168ffffffffffffffffff19161717905561084460405192839260243584526040602085015235956040840191610d5e565b0390a3005b0151905038806107d2565b6001830160005260206000209860005b601f19841681106108d15750917f07614e033e0a70818b0c5cc24675bf0b66f2701746c676e12447fdb5c16bfef49798996001926002959483601f198116106108b8575b505050811b0160018201556107ea565b015160001960f88460031b161c191690553880806108a8565b828201518b556001909a019960209283019201610864565b600183016000526020600020601f830160051c810160208410610929575b601f830160051c8201811061091d575050610792565b60008155600101610907565b5080610907565b604184634e487b7160e01b6000525260246000fd5b60405163b4fa3fb360e01b81528490fd5b60405163b4fa3fb360e01b81528390fd5b60405163ea8e4eb560e01b81528390fd5b50346101065761098736610ad1565b61098f610ccd565b50816000526020916001835260ff6001604060002001541615610a00578060005260028352604060002082600052835260ff60026040600020015460401c161561063857610634935060005260028252604060002090600052815260ff60026040600020604051936105f785610bd4565b60405163522e582d60e11b81528490fd5b5034610106576020366003190112610106578035907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316330361056c5781600052600160205260ff600160406000200154161561055d5750806000526001602052600160406000200161010061ff00198254161790557f657797cefac76dad253a58e9e5f0c0018c74c8bb80b316bdd2e518849881abad600080a2005b34610106576000366003190112610106576020906000548152f35b6040906003190112610106576004359060243590565b919082519283825260005b848110610b13575050826000602080949584010152601f8019910116010190565b602081830181015184830182015201610af2565b602081528151602082015260806060610b4e602085015183604086015260a0850190610ae7565b9367ffffffffffffffff604082015116828501520151151591015290565b9181601f840112156101065782359167ffffffffffffffff8311610106576020838186019501011161010657565b90600182811c92168015610bca575b6020831014610bb457565b634e487b7160e01b600052602260045260246000fd5b91607f1691610ba9565b6080810190811067ffffffffffffffff821117610bf057604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff821117610bf057604052565b90604051918260008254610c3b81610b9a565b90818452602094600191600181169081600014610cab5750600114610c6c575b505050610c6a92500383610c06565b565b600090815285812095935091905b818310610c93575050610c6a9350820101388080610c5b565b85548884018501529485019487945091830191610c7a565b92505050610c6a94925060ff191682840152151560051b820101388080610c5b565b60405190610cda82610bd4565b60006060838281528160208201528260408201520152565b6000198114610d015760010190565b634e487b7160e01b600052601160045260246000fd5b92919267ffffffffffffffff8211610bf05760405191610d41601f8201601f191660200184610c06565b829481845281830111610106578281602093846000960137010152565b908060209392818452848401376000828201840152601f01601f191601019056fea26469706673582212204db6ae7e0a90338a6035f2d4d4ade3f5b53d2911e42bfdb28227ad4a3c844c4a64736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
